<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery 遠眼「天狗サイコグラフィ」</title>
    <!-- Link to Google Fonts for custom fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .gallery-container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            flex: 1 0 auto;
            text-align: center;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: #333;
            margin-bottom: 20px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.45s ease, transform 0.45s ease;
        }

        .gallery-item.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery a {
            display: block;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            width: 100%;
            padding-top: 100%;
            /* Square aspect ratio */
            box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);
        }

        .gallery img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease-out, filter 0.3s ease-out;
        }

        .gallery img:hover {
            transform: scale(1.08);
        }

        .gallery .caption {
            font-size: 0.9em;
            color: #666;
            margin-top: 8px;
        }

        .button {
            display: inline-block;
            padding: 12px 24px;
            margin: 24px 12px 0;
            border-radius: 5px;
            background-color: #333;
            color: #fff;
            text-decoration: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .button:hover {
            background-color: #555;
            transform: translateY(-2px);
        }

        .button:disabled,
        .button[disabled] {
            background-color: #999;
            cursor: default;
            transform: none;
        }

        .page-header {
            background: linear-gradient(135deg, #f0f4ff, #dfe7ff);
            border-bottom: 1px solid #d0d7e8;
            padding: 40px 0 30px;
        }

        .header-inner {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .page-subtitle {
            color: #555;
            margin-top: 12px;
            font-size: 1.05rem;
        }

        .page-nav {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 18px;
            flex-wrap: wrap;
        }

        .page-nav a {
            color: #1f2a44;
            text-decoration: none;
            font-weight: 500;
        }

        .page-nav a:hover {
            text-decoration: underline;
        }

        .page-footer {
            background: #1f2a44;
            color: #f4f4f9;
            padding: 30px 0;
            margin-top: 50px;
        }

        .footer-inner {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .page-footer a {
            color: #9fb3ff;
            text-decoration: none;
        }

        .page-footer a:hover {
            text-decoration: underline;
        }
        @media (prefers-reduced-motion: reduce) {
            .gallery-item {
                transition: none;
                transform: none !important;
            }

            .gallery img {
                transition: none;
            }

            .button {
                transition: none;
            }
        }
    </style>
</head>

<body>

    <header class="page-header">
        <div class="header-inner">
            <h1>Gallery</h1>
            <p class="page-subtitle">A selection of 2D images.</p>
            <nav class="page-nav">
                <a href="https://rathgrith.github.io/">Home</a>
                <a href="https://rathgrith.github.io/assets/pdf_list.html">Notes</a>
                <a href="#gallery">Jump to Gallery</a>
            </nav>
        </div>
    </header>

    <main class="gallery-container" role="main">
        <div class="gallery" id="gallery">
            <!-- JavaScript will populate this section -->
        </div>
        <button type="button" id="load-more" class="button">Load more photos</button>
    </main>

    <footer class="page-footer">
        <div class="footer-inner">
            <p>Thumbnails open the full-resolution images in a new tab.</p>
            <p><a href="https://rathgrith.github.io/">About me</a></p>
        </div>
    </footer>

    <script>
        // Captions mapping based on filenames
        const captions = {
            "RATH6620.jpg": "Crow",
            "RATH6538.jpg": "Busey Woods",
            "RATH6545.jpg": "Fallusion",
            "RATH8442.jpg": "A Dog",
            "RATH9065w.jpg": "Steel Blood",
            "RATH9618.jpg": "Bachelor Dorm",
            "StartrailsJ.jpg": "Starlight",
            "RATH6595.jpg": "Clouds",
            "RATH3037.jpg": "Asuka",
            "RATH3602.jpg": "Roxy",
            "RATH3135-2.jpg": "Reimu",
            "RATH4513.jpg": "Sora",
            "saber.jpg": "Saber",
            "shinobu.jpg": "Kokorowatari",
            "flan.jpg": "Flandre",
            "pathouli.jpg": "Patchouli",
            "yard.jpg": "Yard",
            "youmu.png": "Half Spirit",
            "tower.jpg": "Tower",
            "sakura.jpg": "Sakura",
            "sanae.jpg": "Arahitogami",
            "SilhouetteBirds.jpg": "Silhouette Birds",
            "altina.jpg": "Altina Orion",
            "marisa.png": "Marisa",
            "3.jpg": "Winterealm",
            "RATH2214.jpg": "Remilia",
            "RATH9995.jpg": "Silhouette",
            "RATH9131.jpg": "Colours",
            "RATH8951.jpg": "Sunset Chapel",
            "RATH6848.jpg": "Cloud Plant",
            "DSC05793-gigapixel-standard-scale-2_00x.jpg": "Canal Crossing",
            "RATH1927.jpg": "Heavenly Descent",
            "000040_1.jpg": "Sunset Lake",
            "DSC01738.jpg": "Scales",
            "4B5A0106.jpg": "Buds",
            "DSC01830.jpg": "Maple",
            "RATH7530.jpg": "Miniature",
            "RATH9090w.jpg": "Keep Out",
            "RATH3317.jpg": "Rei",
            "DSC05069~1.jpg": "Shanghai",
            "RATH4226.jpg": "Miku",
            "000045.jpg": "Framed",
            "RATH2425.jpg": "Tap",
            "RATH3081.jpg": "Tanzanite",
            "000039.jpg": "Watcher",
            "DSC01744.jpg": "Light",
            "000105710019.jpg": "Villa",
            "RATH2455.jpg": "Cloud Split",
            "RATH2766.jpg": "Tabletop",
            "RATH2074.jpg": "Tilt Train",
            "000054710009.jpg": "Glass",
            "DSCF4421.jpg": "EE Building",
            "RATH8000.jpg": "Sad Cat",
            "DSC01565_2.jpg": "Valaraukar",
            "RATH2145.jpg": "Cable",
            "RATH2122.jpg": "Stretch",
            "RATH6525.jpg": "Autumn",
            "RATH6603.jpg": "Rift",
            "RATH6175.jpg": "Utakata",
            "RATH6219.jpg": "Michigan Lake",
            "RATH6058.jpg": "Wings",
            "RATH5914.jpg": "San Francisco",
            "RATH5648.jpg": "Sayonara",
            "RATH6375.jpg": "Stained glass",
            "RATH6425.jpg": "Ferry",
            "RATH6441.jpg": "Liberty",
            "RATH6253.jpg": "Fumo",
            "zeke.jpeg": "Hangar",
            "end_of_the_day.jpeg": "Hangar"
        };

        // Directories for thumbnails and original images
        const thumbnailDir = "/images/";
        const originalDir = "/images/raw/";

        const gallery = document.getElementById("gallery");
        const loadMoreButton = document.getElementById("load-more");

        const INITIAL_BATCH_SIZE = 10;
        const LOAD_BATCH_SIZE = 5;

        const filenames = Object.keys(captions).sort(() => Math.random() - 0.5);
        let currentIndex = 0;

        function createGalleryItem(filename, indexInBatch) {
            const thumbnail = document.createElement("a");
            thumbnail.href = originalDir + filename;
            thumbnail.target = "_blank";

            const img = document.createElement("img");
            img.src = thumbnailDir + filename;
            img.alt = captions[filename];
            thumbnail.appendChild(img);

            const caption = document.createElement("div");
            caption.className = "caption";
            caption.textContent = captions[filename];

            const item = document.createElement("div");
            item.className = "gallery-item";
            item.style.transitionDelay = `${indexInBatch * 60}ms`;
            item.appendChild(thumbnail);
            item.appendChild(caption);

            return item;
        }

        function revealItems(items) {
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    items.forEach((item) => item.classList.add("is-visible"));
                });
            });
        }

        function updateButtonState() {
            if (!loadMoreButton) {
                return;
            }

            const remaining = filenames.length - currentIndex;
            if (remaining <= 0) {
                loadMoreButton.disabled = true;
                loadMoreButton.textContent = "All photos loaded";
            } else {
                const nextCount = Math.min(remaining, LOAD_BATCH_SIZE);
                loadMoreButton.disabled = false;
                loadMoreButton.textContent = "Load more photos";
            }
        }

        function renderNextBatch(batchSize) {
            if (currentIndex >= filenames.length) {
                updateButtonState();
                return;
            }

            const nextFiles = filenames.slice(currentIndex, currentIndex + batchSize);
            const fragment = document.createDocumentFragment();
            const newItems = [];

            nextFiles.forEach((filename, indexInBatch) => {
                const item = createGalleryItem(filename, indexInBatch);
                fragment.appendChild(item);
                newItems.push(item);
            });

            gallery.appendChild(fragment);
            revealItems(newItems);

            currentIndex += nextFiles.length;
            updateButtonState();
        }

        if (loadMoreButton) {
            loadMoreButton.addEventListener("click", () => {
                renderNextBatch(LOAD_BATCH_SIZE);
            });
        }

        renderNextBatch(INITIAL_BATCH_SIZE);
    </script>

</body>

</html>







